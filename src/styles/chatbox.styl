$cf
    &:before
    &:after
        content: ''
        display table
        clear both

.chatbox
    display flex
    flex-flow row nowrap
    background: #F1F1F1
    color: #333
    width: 100%
    max-width: 640px
    margin: 1em auto
    padding 1em
    box-shadow: 2px 2px 5px rgba(#000, 50%)

    .left
        flex 1
    .right
        flex 0 25%
        width: 25%
        overflow: hidden
        overflow-y: auto
        font-size: .8em;
        border-left 2px solid rgba(#000, 10%)
        padding .5em

    ul
        list-style: none

    .messages
        overflow hidden
        overflow-y auto
        height 320px
        padding 1em
        font-size 13px

        li
            @extend $cf
            margin 1em 0
            position relative

            .body
                display table
                padding .5em
                background #FFF
                box-shadow: 1px 2px 2px rgba(#000, 21%)
                vertical-align: top
                margin 2px
                max-width 50%
                border-radius: 0 .5em .5em .5em
                overflow-wrap: break-word
                word-wrap: break-word
                word-break: break-all
                hyphens: auto
                line-height: 1.24em

            .author-image
                $s = 27px
                $t = .21s
                width $s
                height $s
                margin .2em .5em 0 0
                vertical-align: top
                border-radius 50%
                overflow hidden
                float left
                background: #FFFFFF
                border: 2px solid rgba(#000, 25%);

                &:hover + .author-name
                    opacity 1
                    visibility: visible
                    transition visibility 0s, opacity $t ease

            .author-name
                opacity: 0
                display inline-block
                visibility: hidden
                transition visibility 0s $t, opacity $t ease
                background #000
                color rgba(#FFF, 50%)
                padding .25em .5em
                border-radius .25em
                font-size .8em
                position: absolute
                top 50%
                left 32px
                transform translate(0, -50%)

            &.me
                .body
                    background #0088DD
                    color #FFF
                    float right
                    border-radius: .5em 0 .5em .5em

                .author-name
                .author-image
                    display none

            &.log
                width 100%
                position relative
                height 1em
                opacity .82

                &:before
                    content ''
                    display block
                    height 2px
                    background #CCC
                    position absolute
                    top 50%
                    left 0
                    width 100%

                p
                    display table
                    padding 0 .5em
                    margin 2px auto 0 auto
                    text-align center
                    position relative
                    background #F1F1F1
                    box-shadow: none

                img
                    display none

    textarea
        width 100%
        height 2.5em
        resize none
        border none
        padding .7em